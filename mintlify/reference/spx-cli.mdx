---
title: "spx CLI"
description: "Command reference for the spx CLI — status, lock, verify."
---

## spx status

Show node states without running tests.

```bash
spx status --tree <node-path>
```

Compares blob hashes in lock files against current file content. Reports each node as valid, stale, or needs work.

```text
$ spx status --tree 54-tree-interpretation.outcome
54-tree-interpretation.outcome/    needs work (no lock file)
  21-parent-child-links.enabler/       valid
  43-status-rollup.outcome/            stale
    status-rollup.md changed           (was a3b7c12, now 5e9f1d8)
  54-tree-status.outcome/          needs work (no lock file)
```

## spx lock

Run tests and write the lock file.

```bash
spx lock <node-path>
```

Runs all tests for the node. If all pass, writes `spx-lock.yaml` with current blob hashes. If any test fails, exits with an error and leaves the existing lock file unchanged.

```text
$ spx lock 54-tree-interpretation.outcome/43-status-rollup.outcome
Running tests...
  tests/status.unit.test.ts            3 passed
Lock regenerated: 43-status-rollup.outcome/spx-lock.yaml
```

## spx verify

Compare hashes without running tests.

```bash
spx verify --tree <node-path>
```

Cheap verification that the lock still holds. Does not execute tests — only checks blob hashes.

## spx verify --fix

Verify first, lock if stale.

```bash
spx verify --fix <node-path>
```

Designed for pre-commit hooks. In CI, `spx lock` must produce zero changes.
